<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>JSF 2 Ajax</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous"/>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</h:head>
<h:body>
	<h1>Ajax in JSF</h1>
        Username and password must be same for login to succeed, otherwise it fails.
        <br />
	<br />
	<h2>Ajax using JavaScript</h2>
	<h:outputScript name="jsf.js" library="javax.faces" target="body" />

	<h:form prependId="false">
            Name: <h:inputText value="#{user.name}" id="name" />
		<br />
            Password: <h:inputText value="#{user.password}"
			id="password" />
		<br />
		<h:commandButton value="Login" type="button"
			actionListener="#{user.login}"
			onclick="jsf.ajax.request(this, event, {execute:
                                                 'name password', render: 'status'});
                                     return false;" />
		<h:outputText value="#{user.status}" id="status" />
	</h:form>
	<h2>Declarative Ajax</h2>
	<h:form prependId="false">
            Name: <h:inputText value="#{user.name}" id="name2" styleClass="form-control col-sm-5">
			<f:ajax event="change"></f:ajax>
		</h:inputText>
		<br />
            Password: <h:inputText value="#{user.password}"
			id="password2" styleClass="form-control col-sm-5" />
		<br />
		<h:commandButton value="Login" type="button"
			actionListener="#{user.login}" styleClass="btn btn-primary">
			<f:ajax execute="name2 password2" render="status2" />
		</h:commandButton>
		<h:outputText value="#{user.status}" id="status2" />
	</h:form>
</h:body>
</html>
